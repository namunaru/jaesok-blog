---
import { getCollection } from 'astro:content';
// 모든 블로그 글을 가져와 날짜 역순으로 정렬합니다.
const posts = await getCollection('blog');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>조용한 세계문학 서재</title>
    <style>
      /* 전체 배경 및 폰트 설정 */
      body { font-family: 'serif'; background-color: #f9f7f2; color: #1a1a1a; margin: 0; line-height: 1.6; }
      
      /* 상단 바: 좌우 정렬 */
      nav { display: flex; justify-content: space-between; align-items: center; padding: 20px 50px; background: white; border-bottom: 1px solid #eee; }
      .logo { font-weight: bold; font-size: 1.2rem; }
      .menu a { margin: 0 15px; text-decoration: none; color: #333; font-weight: 500; }
      .icons a { margin-left: 15px; text-decoration: none; font-size: 1.2rem; font-weight: bold; }
      
      /* 메인 인사말: 중앙 정렬 */
      main { max-width: 800px; margin: 80px auto; text-align: center; }
      h1 { font-size: 3rem; margin-bottom: 40px; font-weight: 500; }
      .intro-text { color: #444; margin-bottom: 50px; white-space: pre-line; }
      
      /* 블로그 섹션: 전체 틀은 중앙, 글자는 왼쪽 정렬 */
      .blog-section { text-align: center; margin-top: 100px; }
      .blog-section h2 { font-size: 1.5rem; margin-bottom: 30px; }
      .blog-section ul { padding: 0; list-style: none; display: inline-block; text-align: left; }
      
      .post-item { margin-bottom: 20px; }
      .post-item a { font-size: 1.2rem; color: #000; text-decoration: none; border-bottom: 1px solid #ccc; transition: 0.3s; }
      .post-item a:hover { border-bottom: 1px solid #000; }
      
      /* 하단 정보: 중앙 정렬 */
      footer { margin-top: 150px; padding: 50px; font-size: 0.9rem; color: #888; border-top: 1px solid #eee; text-align: center; }
    </style>
  </head>
  <body>
    <nav>
      <div class="logo">조용한 세계문학 서재</div>
      <div class="menu">
        <a href="/">홈</a>
        <a href="#">북리뷰</a>
        <a href="#">북영상</a>
      </div>
      <div class="menu">
        <a href="/">홈</a>
        <a href="/review">북리뷰</a>
        <a href="/video">북영상</a>
     </div>
      <div class="icons">
        <a href="https://blog.naver.com/gedsc" target="_blank" title="Naver" style="color: #03C75A;">N</a>
        {/* 유튜브 핸들(@) 형식을 적용하여 링크 오류를 해결했습니다 */}
        <a href="https://www.youtube.com/@gedsc" target="_blank" title="YouTube" style="color: #FF0000;">▶</a>
      </div>
    </nav>

    <main>
      <h1>안녕하세요, gedsc입니다</h1>
      <p class="intro-text">
        이곳은 세계문학을 읽고,<br>
        그 내용을 요약하고 해석하며<br>
        개인적인 감상과 사유를 기록하는 공간입니다.<br><br>
        고전 문학 작품을 중심으로<br>
        이야기의 핵심과 주제를 정리하고,<br>
        오늘의 언어로 다시 풀어냅니다.
      </p>

      <div class="blog-section">
        <h2>최근 기록 (블로그)</h2>
        <ul>
          {posts.map(post => (
            <li class="post-item">
              <a href={`/blog/${post.id}`}>{post.data.title}</a>
              <span style="color:#999; font-size:0.8rem; margin-left:15px;">{post.data.pubDate.toLocaleDateString()}</span>
            </li>
          ))}
        </ul>
      </div>
    </main>

    <footer>
      <p>© 2025 gedsc · 세계문학 기록실</p>
      <p>세계문학을 읽고, 요약하고, 해석하며 천천히 남기는 개인 기록 공간입니다.</p>
      <p>블로그 · 유튜브</p>
      <p style="font-size: 0.8rem; margin-top:20px;">일부 콘텐츠는 AI의 도움을 받아 작성되었습니다.</p>
    </footer>
  </body>
</html>
